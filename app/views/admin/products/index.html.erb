<div class="container py-4">
  <!-- Page title -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="h3 mb-0">
      <%= ActsAsTenant.current_tenant.name %> â€” Products
    </h1>

    <%= link_to new_admin_tenant_product_path(ActsAsTenant.current_tenant),
      class: "btn btn-primary" do %>
      <i class="bi bi-plus-lg"></i>
      New Product
    <% end %>
  </div>

  <!-- Navigation tabs -->
  <ul class="nav nav-tabs mb-4">
    <li class="nav-item">
      <%= link_to "Products",
        admin_tenant_products_path(ActsAsTenant.current_tenant),
        class: "nav-link active" %>
    </li>
    <li class="nav-item">
      <%= link_to "Orders",
        admin_tenant_orders_path(ActsAsTenant.current_tenant),
        class: "nav-link" %>
    </li>
  </ul>

  <!-- Products grid -->
  <div class="row g-4">
    <% @products.each do |product| %>
      <div class="col-sm-6 col-lg-4">
        <div class="card h-100 shadow-sm">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">
              <%= link_to product.name,
                admin_tenant_product_path(ActsAsTenant.current_tenant, product),
                class: "text-decoration-none" %>
            </h5>

            <p class="card-text text-muted small mb-2">
              <%= truncate(product.description, length: 100) %>
            </p>

            <ul class="list-unstyled mb-3">
              <li><strong>Price:</strong> <%= number_to_currency(product.price) %></li>
              <li>
                <strong>Stock:</strong>
                <span class="<%= product.stock.positive? ? 'text-success' : 'text-danger' %>">
                  <%= product.stock %>
                </span>
              </li>
            </ul>

            <!-- Actions -->
            <div class="mt-auto d-flex gap-2">
              <%= link_to "Edit",
                edit_admin_tenant_product_path(ActsAsTenant.current_tenant, product),
                class: "btn btn-outline-secondary btn-sm" %>

              <%= button_to "Delete",
                admin_tenant_product_path(ActsAsTenant.current_tenant, product),
                method: :delete,
                data: { confirm: "Are you sure you want to delete this product?" },
                class: "btn btn-outline-danger btn-sm" %>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>

  <!-- Empty state -->
  <% if @products.empty? %>
    <div class="text-center text-muted py-5">
      <p class="mb-2">No products yet</p>
      <%= link_to "Add your first product",
        new_admin_tenant_product_path(ActsAsTenant.current_tenant),
        class: "btn btn-primary btn-sm" %>
    </div>
  <% end %>
</div>
